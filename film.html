<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Film mal</title>
  <link rel="icon" type="image/png" href="https://static.wixstatic.com/media/fd2fb2_39376e4ee55b460ab7a3ebbfcf35fef7~mv2.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
/* === Generelt === */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
body {
  background-color: black;
  color: #fff;
  font-family: 'Segoe UI', sans-serif;
  opacity: 0;
  transition: opacity 1s ease;
}
body.loaded { opacity: 1; }

/* === Navigasjon === */
.vertical-nav {
  width: 70px;
  height: 100vh;
  background-color: #091B1E;
  position: fixed;
  top: 0;
  left: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 100;
  padding-top: 16px;
  transition: transform 0.3s ease;
}
.vertical-nav.collapsed { transform: translateX(-100%); }

.nav-icon {
  color: white;
  font-size: 22px;
  padding: 16px 0;
  text-decoration: none;
  width: 100%;
  text-align: center;
  transition: color 0.3s ease;
  cursor: pointer;
}
.nav-icon:hover, .nav-icon.active { color: #00FFCC; }

.menu-toggle {
  position: fixed;
  top: 50%;
  left: 70px;
  transform: translateY(-50%);
  z-index: 101;
  background-color: #091b1e;
  border: none;
  border-radius: 0 12px 12px 0;
  padding: 12px 16px;
  color: white;
  cursor: pointer;
  width: 50px;
  height: 120px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
}
.vertical-nav.collapsed + .menu-toggle { left: 0; }

/* === Hero === */
.hero {
  margin-left: 70px;
  position: relative;
  height: 100vh;
  overflow: hidden;
  transition: margin-left 0.3s ease;
}
.vertical-nav.collapsed ~ .hero { margin-left: 0; }

.background-image, .background-video {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  object-fit: cover;
  z-index: 0;
  transition: opacity 1s ease-in-out;
}
.background-image { filter: brightness(0.6); }
.background-video { opacity: 0; filter: brightness(0.8); }

.overlay {
  position: absolute; width: 100%; height: 100%;
  background: linear-gradient(to top, #091b1e 0%, rgba(9,27,30,0) 60%);
  z-index: 1;
}
.bottom-fade {
  position: absolute; bottom: 0; left: 0;
  width: 100%; height: 200px;
  background: linear-gradient(to top, rgba(0,0,0,1), transparent);
  z-index: 1;
}
.content-wrapper {
  position: absolute;
  top: 60px; left: 60px; right: 60px;
  display: flex; flex-direction: column;
  z-index: 2;
}
.logo-container {
  width: 260px; height: 100px;
  margin-bottom: 100px;
  display: flex; align-items: center; justify-content: center;
}
.film-logo { max-width: 100%; max-height: 100%; object-fit: contain; }

/* === Venstreside === */
.left-content {
  display: flex; flex-direction: column;
  align-items: flex-start;
  margin-top: 170px;
}
.text-button-container {
  display: flex; align-items: flex-start;
  gap: 40px; padding: 30px;
  border-radius: 12px;
}
.text-container {
  flex: 0 0 400px;
  max-width: 700px;
  max-height: 260px;
  overflow-y: auto;
  color: white;
}
.description { font-size: 16px; line-height: 1.6; margin-bottom: 8px; }

.metadata {
  margin-top: 14px;
  color: #ddd;
  font-size: 13px;
  display: flex; flex-wrap: wrap; gap: 6px;
}
.imdb-logo { width: 28px; margin-left: 4px; cursor: pointer; }

.cast-info { flex: 0 0 260px; color: #aaa; font-size: 13px; }

/* === Knapper === */
.watch-button {
  background: #fff;
  color: #000;
  font-size: 18px;
  font-weight: bold;
  padding: 10px 50px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.2s ease;
  width: 280px;
  display: flex; align-items: center; justify-content: center;
  gap: 8px;
}
.watch-button:hover { transform: scale(1.05); }
.buttons-column { display: flex; flex-direction: column; gap: 15px; }

/* === Video-kontroller === */
.video-controls {
  position: absolute; top: 20px; right: 30px;
  z-index: 3;
  display: flex; gap: 10px;
  opacity: 0; transition: opacity 0.5s;
}
.video-controls button {
  background: rgba(0,0,0,0.6);
  border: none; color: white;
  font-size: 20px; padding: 10px 14px;
  border-radius: 10px; cursor: pointer;
}

/* === Anbefalinger === */
.recommendations {
  margin-left: 70px;
  padding: 40px 60px 60px 60px;
  background: black;
  transition: margin-left 0.3s ease;
}
.gallery {
  display: flex; gap: 16px;
  overflow-x: auto; padding-bottom: 10px;
}
.gallery img {
  width: 160px; height: 240px;
  border-radius: 6px; object-fit: cover;
  cursor: pointer; transition: transform 0.3s;
}

/* === Serie seksjon === */
.serie-episoder {
  padding: 40px 60px;
  background: black;
}
.episode-card {
  width: 200px;
  background: #111;
  border-radius: 10px;
  cursor: pointer;
  overflow: hidden;
  transition: transform 0.2s;
}
.episode-card:hover { transform: scale(1.05); }
.episode-card img {
  width: 100%; height: 120px; object-fit: cover;
}
.episode-card div {
  padding: 10px;
}

/* === Footer === */
.site-footer {
  background-color: black; color: #aaa;
  text-align: center; padding: 20px;
  font-size: 14px;
}
.site-footer a { color: #00FFCC; text-decoration: none; }

/* === Popup === */
.more-btn {
  color: #ddd; background: rgba(255,255,255,0.1);
  border: none; cursor: pointer; font-size: 14px;
  margin-left: 6px; padding: 2px 6px; border-radius: 6px;
}
.popup-overlay {
  position: fixed; top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.7);
  display: flex; align-items: center; justify-content: center;
  z-index: 200;
}
.popup-box {
  background: #111; color: white;
  max-width: 600px; max-height: 70vh;
  overflow-y: auto;
  padding: 20px; border-radius: 12px;
  position: relative;
}
.popup-box .close-btn {
  position: absolute; top: 10px; right: 14px;
  background: none; border: none;
  font-size: 20px; color: white; cursor: pointer;
}
  </style>
</head>
<body>
  <div class="vertical-nav" id="verticalNav">
    <div class="profilmeny">
      <a href="konto.html"><img id="menyProfilbilde" src="https://via.placeholder.com/100" alt="Min profil" /></a>
    </div>
    <a href="Søk.html" class="nav-icon"><i class="fas fa-search"></i></a>
    <a href="Hovedside.html" class="nav-icon"><i class="fas fa-house"></i></a>
    <a href="Film.html" class="nav-icon"><i class="fas fa-film"></i></a>
    <a href="Serier.html" class="nav-icon"><i class="fas fa-tv"></i></a>
    <a href="Min-Liste.html" class="nav-icon"><i class="fas fa-bookmark"></i></a>
  </div>

  <button class="menu-toggle" id="menuToggle"><i class="fas fa-chevron-left"></i></button>

  <div class="hero">
    <img class="background-image" id="backgroundImage" src="" alt="Bakgrunnsbilde" />
    <video id="trailerVideo" class="background-video" muted playsinline></video>

    <div class="overlay"></div>
    <div class="bottom-fade"></div>

    <div id="videoControls" class="video-controls">
      <button id="pauseBtn"><i class="fas fa-pause"></i></button>
      <button id="soundBtn"><i class="fas fa-volume-mute"></i></button>
    </div>

    <div class="content-wrapper">
      <div class="logo-container"><img class="film-logo" src="" alt="Filmlogo" /></div>

      <div class="left-content">
        <div class="text-button-container">
          <div class="buttons-column">
            <button class="watch-button" id="watchBtn"><i class="fas fa-play"></i><span> Se nå</span></button>
            <button class="watch-button" id="addToListBtn"><i class="fas fa-plus"></i><span> Legg til i Min liste</span></button>
          </div>
          <div class="text-container">
            <p class="description"></p>
            <div class="metadata"></div>
            <div class="availability-info" id="availabilityInfo"></div>
          </div>
          <div class="cast-info"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Anbefalinger -->
  <div class="recommendations">
    <h2>Filmer du kanskje vil like</h2>
    <div class="gallery" id="recommendationGallery"></div>
  </div>

  <footer class="site-footer">
    <p>&copy; 2025 Watch Nordic Grupe</p>
    <a href="Om-oss.html">Om oss</a> | <a href="Kontakt.html">Kontakt</a> | <a href="Personvern.html">Personvern</a>
  </footer>

  <script src="Filmdata.js"></script>
  <script src="Seriedata.js"></script>
  <script>
/* === Felles logikk for film og serie === */
const params = new URLSearchParams(window.location.search);
const navn = params.get("navn");
let type = "film";
let data = filmer[navn];
if (!data && typeof serier !== "undefined" && serier[navn]) {
  type = "serie"; data = serier[navn];
}
if (!data) { alert("Fant ikke filmen eller serien."); window.location.href = "Hovedside.html"; }

let erUpublisert = false;
if (data.publishDate && new Date(data.publishDate) > new Date()) erUpublisert = true;

document.title = data.tittel;
document.getElementById("backgroundImage").src = data.bakgrunn;
document.querySelector(".film-logo").src = data.logo;
document.querySelector(".description").textContent = data.beskrivelse;

/* === Metadata og IMDB === */
const metadataEl = document.querySelector(".metadata");
const metaHTML = data.metadata.map(m => `<span>${m}</span><span>•</span>`).join("");
const imdbHTML = `<span class="imdb-link"><a href="${data.imdb}" target="_blank">
<img class="imdb-logo" src="https://static.wixstatic.com/media/fd2fb2_f544f361fa8f4349a4e538b2d50c219e~mv2.png" alt="IMDB-logo"/></a></span>`;
metadataEl.innerHTML = metaHTML + imdbHTML;

/* === Cast === */
const castLabel = type === "film" ? "Regissør" : "Skaper";
document.querySelector(".cast-info").innerHTML =
  `<p><strong>Medvirkende:</strong> ${data.skuespillere || ""}</p>
   <p><strong>${castLabel}:</strong> ${data.regissor || data.skaper || "Ukjent"}</p>`;

/* === Se nå-knapp === */
const watchBtn = document.getElementById("watchBtn");
let statusKey = `${type}-${navn}-status`;
let status = localStorage.getItem(statusKey);
function oppdaterWatchKnapp() {
  const text = watchBtn.querySelector("span");
  text.textContent = status === "påbegynt" ? " Gjenoppta" : type === "film" ? " Se nå" : " Se episode";
}
oppdaterWatchKnapp();
watchBtn.addEventListener("click", () => {
  if (erUpublisert) return;
  localStorage.setItem(statusKey, "påbegynt");
  window.location.href = data.watchUrl;
});

/* === Min liste === */
const addToListBtn = document.getElementById("addToListBtn");
let minListe = JSON.parse(localStorage.getItem("minListe")) || [];
function oppdaterListeKnapp() {
  const icon = addToListBtn.querySelector("i");
  const text = addToListBtn.querySelector("span");
  const key = `${type}:${navn}`;
  if (minListe.includes(key)) { icon.className = "fas fa-check"; text.textContent = " Lagt til i Min liste"; }
  else { icon.className = "fas fa-plus"; text.textContent = " Legg til i Min liste"; }
}
oppdaterListeKnapp();
addToListBtn.addEventListener("click", () => {
  const key = `${type}:${navn}`;
  if (!minListe.includes(key)) minListe.push(key);
  else minListe = minListe.filter(f => f !== key);
  localStorage.setItem("minListe", JSON.stringify(minListe));
  oppdaterListeKnapp();
});

/* === Anbefalinger === */
function hentTilfeldige(antall) {
  const kilde = type === "film" ? filmer : serier;
  const nå = new Date();
  const alle = Object.keys(kilde).filter(k => k !== navn && !(kilde[k].publishDate && new Date(kilde[k].publishDate) > nå));
  const valgt = [];
  while (valgt.length < antall && alle.length > 0) valgt.push(alle.splice(Math.floor(Math.random()*alle.length),1)[0]);
  return valgt;
}
const anbefalte = hentTilfeldige(6);
const gallery = document.getElementById("recommendationGallery");
document.querySelector(".recommendations h2").textContent =
  type === "film" ? "Filmer du kanskje vil like" : "Serier du kanskje vil like";
anbefalte.forEach(n => {
  const item = (type === "film" ? filmer : serier)[n];
  const img = document.createElement("img");
  img.src = item.posterVertikal || item.poster || item.bakgrunn;
  img.alt = item.tittel;
  img.addEventListener("click", () => { window.location.href = `Film.html?navn=${n}`; });
  gallery.appendChild(img);
});

/* === Serie: sesonger og episoder === */
if (type === "serie" && data.sesonger) {
  const recommendationsSection = document.querySelector(".recommendations");
  const serieContainer = document.createElement("div");
  serieContainer.className = "serie-episoder";
  serieContainer.innerHTML = `
    <h2>Velg sesong og episode</h2>
    <div style="margin-bottom:16px;">
      <label for="seasonSelect">Sesong:</label>
      <select id="seasonSelect" style="margin-left:10px; padding:6px 10px; font-size:16px; border-radius:6px;"></select>
    </div>
    <div id="episodeList" style="display:flex; flex-wrap:wrap; gap:14px;"></div>
  `;
  recommendationsSection.parentNode.insertBefore(serieContainer, recommendationsSection);

  const seasonSelect = serieContainer.querySelector("#seasonSelect");
  const episodeList = serieContainer.querySelector("#episodeList");

  Object.keys(data.sesonger).forEach(ses => {
    const opt = document.createElement("option");
    opt.value = ses; opt.textContent = `Sesong ${ses}`;
    seasonSelect.appendChild(opt);
  });

  function visEpisoder(ses) {
    episodeList.innerHTML = "";
    const episoder = data.sesonger[ses];
    episoder.forEach((ep, i) => {
      const card = document.createElement("div");
      card.className = "episode-card";
      card.innerHTML = `
        <img src="${ep.bilde || data.bakgrunn}">
        <div>
          <h4 style="margin-bottom:6px; font-size:16px;">${ep.tittel}</h4>
          <p style="font-size:13px; color:#ccc;">${ep.beskrivelse || ""}</p>
        </div>`;
      card.addEventListener("click", () => {
        watchBtn.querySelector("span").textContent = ` Spill av episode ${i+1}`;
        if (ep.watchUrl) data.watchUrl = ep.watchUrl;
        if (ep.bilde) document.getElementById("backgroundImage").src = ep.bilde;
      });
      episodeList.appendChild(card);
    });
  }
  visEpisoder(Object.keys(data.sesonger)[0]);
  seasonSelect.addEventListener("change", e => visEpisoder(e.target.value));
}

/* === Ferdig lastet === */
window.addEventListener("load", () => document.body.classList.add("loaded"));
  </script>
</body>
</html>




 
































