<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hovedsiden</title>

  <link rel="icon" type="image/png" href="https://static.wixstatic.com/media/fd2fb2_39376e4ee55b460ab7a3ebbfcf35fef7~mv2.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

  <style>
    /* (Samme CSS som tidligere eksempel – kortet ned her for plass) */
    body { font-family: Arial, sans-serif; background: #091B1E; color: white; margin:0; }
    .vertical-nav{ width:70px; height:100vh; position:fixed; top:0; left:0; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    .nav-icon{ color:white; font-size:22px; margin:10px 0; }
    main{ margin-left:70px; padding:20px; }
    .gallery-section{ margin-bottom:30px; }
    .gallery-section h2{ color:#00FFCC; margin-bottom:10px; }
    .gallery-wrapper{ position:relative; display:flex; align-items:center; }
    .image-gallery{ display:flex; overflow-x:auto; gap:12px; padding:10px; scroll-behavior:smooth; }
    .image-gallery::-webkit-scrollbar{ display:none; }
    .image-gallery a img{ width:200px; height:120px; object-fit:cover; border-radius:6px; }
    .coming-soon-gallery{ display:grid; grid-template-columns:repeat(auto-fill, minmax(220px,1fr)); gap:20px; }
    .coming-card img{ width:100%; border-radius:6px; }
    .coming-info{ padding:6px 0; }
    .genre-gallery{ display:flex; flex-wrap:wrap; gap:10px; padding:10px; }
    .genre-gallery a{ background:#00FFCC; color:black; padding:6px 12px; border-radius:4px; text-decoration:none; }
  </style>
</head>
<body>

  <!-- NAV -->
  <div class="vertical-nav">
    <a href="Søk.html" class="nav-icon"><i class="fas fa-search"></i></a>
    <a href="Hovedside.html" class="nav-icon active"><i class="fas fa-house"></i></a>
    <a href="Film.html" class="nav-icon"><i class="fas fa-film"></i></a>
    <a href="Serier.html" class="nav-icon"><i class="fas fa-tv"></i></a>
    <a href="Min-Liste.html" class="nav-icon"><i class="fas fa-bookmark"></i></a>
  </div>

  <main>
    <h1>Velkommen til Watch</h1>

    <section class="gallery-section" id="nye-filmer">
      <h2>Nye filmer på Watch</h2>
      <div class="gallery-wrapper">
        <div class="image-gallery"></div>
      </div>
    </section>

    <section class="gallery-section" id="populære">
      <h2>Populære nå</h2>
      <div class="gallery-wrapper">
        <div class="image-gallery"></div>
      </div>
    </section>

    <section class="gallery-section" id="kommer-snart">
      <h2>Kommende filmer</h2>
      <div class="coming-soon-gallery"></div>
    </section>

    <section class="gallery-section" id="barn">
      <h2>Barn</h2>
      <div class="gallery-wrapper">
        <div class="image-gallery"></div>
      </div>
    </section>

    <section class="gallery-section" id="sjangere">
      <h2>Sjangere</h2>
      <div class="genre-gallery"></div>
    </section>
  </main>

  <!-- === SCRIPT === -->
  <script type="module">
    import { filmer } from "./Filmdata.js";

    function lagFilmLenke(film) {
      const a = document.createElement("a");
      a.href = `film.html?navn=${encodeURIComponent(film.navn)}`;
      const img = document.createElement("img");
      img.src = film.bilde;
      img.alt = film.tittel;
      a.appendChild(img);
      return a;
    }

    // Nye filmer
    const nyeGalleri = document.querySelector("#nye-filmer .image-gallery");
    filmer
      .filter(f => !f.kommer && new Date(f.publisert) <= new Date())
      .sort((a, b) => new Date(b.publisert) - new Date(a.publisert))
      .slice(0, 12)
      .forEach(f => nyeGalleri.appendChild(lagFilmLenke(f)));

    // Populære
    const popGalleri = document.querySelector("#populære .image-gallery");
    filmer
      .filter(f => !f.kommer)
      .sort((a, b) => (b.popularitet || 0) - (a.popularitet || 0))
      .slice(0, 12)
      .forEach(f => popGalleri.appendChild(lagFilmLenke(f)));

    // Kommer snart
    const kommGalleri = document.querySelector("#kommer-snart .coming-soon-gallery");
    filmer
      .filter(f => f.kommer || new Date(f.publisert) > new Date())
      .forEach(f => {
        const card = document.createElement("div");
        card.className = "coming-card";
        card.innerHTML = `
          <img src="${f.bilde}" alt="${f.tittel}">
          <div class="coming-info">
            <p class="date">${new Date(f.publisert).toLocaleDateString("no-NO", { day:"2-digit", month:"short", year:"numeric" })}</p>
            <h3>${f.tittel}</h3>
            <p>${f.beskrivelse || ""}</p>
          </div>`;
        kommGalleri.appendChild(card);
      });

    // Barn
    const barnGalleri = document.querySelector("#barn .image-gallery");
    filmer
      .filter(f => f.sjanger && f.sjanger.includes("barn"))
      .forEach(f => barnGalleri.appendChild(lagFilmLenke(f)));

    // Sjangere
    const sjangerGalleri = document.querySelector("#sjangere .genre-gallery");
    const unikeSjangere = [...new Set(filmer.flatMap(f => f.sjanger || []))];
    unikeSjangere.forEach(s => {
      const link = document.createElement("a");
      link.href = `sjanger.html?navn=${encodeURIComponent(s)}`;
      link.textContent = s.charAt(0).toUpperCase() + s.slice(1);
      sjangerGalleri.appendChild(link);
    });
  </script>
</body>
</html>




















































