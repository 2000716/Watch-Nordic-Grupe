<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hovedsiden</title>

  <link rel="icon" type="image/png" href="https://static.wixstatic.com/media/fd2fb2_39376e4ee55b460ab7a3ebbfcf35fef7~mv2.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html, body {
  font-family: Arial, sans-serif;
  background: #091B1E;
  color: white;
  overflow-x: hidden;
}

/* Navigasjon til venstre */
.vertical-nav {
  width: 70px;
  height: 100vh;
  background-color: transparent;
  position: fixed;
  top: 0;
  left: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 100;
}

.nav-icons-wrapper {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.profilmeny {
  cursor: pointer;
  margin-bottom: 10px;
}

.profilmeny img {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #fff;
}

.nav-icon {
  color: white;
  font-size: 22px;
  padding: 16px 0;
  text-decoration: none;
  text-align: center;
  width: 100%;
  transition: color 0.3s ease;
  cursor: pointer;
  background: none;
  border: none;
}

.nav-icon:hover,
.nav-icon.active {
  color: #00FFCC;
}

/* Hovedinnhold */
main {
  margin-left: 60px;
  padding: 20px 10px 10px 10px;
}

.content-wrapper {
  max-width: 1100px;
  margin: 0 auto;
}

/* Topp-logo */
.top-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.top-header img {
  width: 200px;
}

.hero-banner {
  position: relative;
  height: 350px;
  border-radius: 12px;
  overflow: hidden;
  margin-bottom: 30px;
  margin-left: 16px;
  width: calc(100% - 16px);

  /* fjernet glow */
  box-shadow: none;
  border: 2px solid #00FFCC; /* tynn ramme */
}

.banner-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.banner-content {
  position: absolute;
  top: 50%;
  left: 30px;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
}

.film-logo {
  width: 300px;
}

.watch-button {
  text-decoration: none;
  background-color: white;
  color: black;
  padding: 10px 80px;
  border: none;
  border-radius: 4px;
  font-weight: bold;
  display: inline-block;
}

.watch-button:hover {
  background-color: #f2f2f2;
}

/* Gallerier */
.gallery-section {
  margin-bottom: 20px;
}

.gallery-section h2 {
  font-size: 18px;
  margin-bottom: 12px;
  color: #00FFCC;
  padding-left: 16px;
}

.gallery-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}

.fade-left,
.fade-right {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 70px;
  z-index: 1;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.fade-left {
  left: 0;
  background: linear-gradient(to right, #091B1E, rgba(9, 27, 30, 0));
}

.fade-right {
  right: 0;
  background: linear-gradient(to left, #091B1E, rgba(9, 27, 30, 0));
}

.gallery-wrapper:hover .scroll-button:not(.hidden),
.gallery-wrapper:hover .fade-left:not(.fade-hidden),
.gallery-wrapper:hover .fade-right:not(.fade-hidden) {
  opacity: 1;
  pointer-events: auto;
}

.fade-hidden {
  display: none;
}

.scroll-button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: none;
  border: none;
  color: white;
  font-size: 28px;
  cursor: pointer;
  z-index: 2;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.3s ease;

  /* Hindre tekstvalg i alle nettlesere */
  -webkit-user-select: none; /* Safari / iOS */
  -moz-user-select: none;    /* Firefox */
  -ms-user-select: none;     /* gammel IE/Edge */
  user-select: none;
}


.scroll-button.left {
  left: 0;
}

.scroll-button.right {
  right: 0;
}

.scroll-button.hidden {
  display: none;
}

.scroll-button:hover {
  color: #00FFCC;
}

/* Selve bilde-galleriet */
.image-gallery {
  flex: 1;
  display: flex;
  overflow-x: auto;
  gap: 16px;
  padding: 10px 16px;
  scroll-behavior: smooth;
  -ms-overflow-style: none;
}

/* Skjul scrollbar i Chrome, Safari og nyere Edge */
.image-gallery::-webkit-scrollbar {
  display: none;
}


.image-gallery::-webkit-scrollbar {
  display: none;
}

/* Ramme og hover-effekt uten hakking */
.image-gallery a {
  display: inline-block;
  position: relative;
  border-radius: 5px;
  background: transparent;
  overflow: visible;

  border: 2px solid transparent; /* usynlig ramme hele tiden */
  transition: border 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
}

.image-gallery a img {
  width: 220px;
  height: 124px;
  object-fit: cover;
  border-radius: 5px;
  display: block;
  transition: transform 0.3s ease;
}


.image-gallery a:hover img {
  transform: scale(1.05);
}

/* Fremdriftslinje på filmer */
.image-with-progress {
  position: relative;
  width: 220px;
  height: 124px;
  border-radius: 8px;
  overflow: hidden;
}

.image-with-progress img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.progress-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  height: 4px;
  width: 100%;
  background-color: rgba(255, 255, 255, 0.2);
}

.progress-bar::after {
  content: '';
  position: absolute;
  height: 100%;
  left: 0;
  top: 0;
  background-color: #00FFCC;
  width: var(--progress, 0%);
  transition: width 0.3s ease;
}

/* Footer */
.footer {
  margin-top: 40px;
  padding: 20px 10px;
  text-align: center;
  color: #515151;
  font-size: 14px;
}

.footer-links {
  margin-bottom: 10px;
}

.footer-links a {
  color: #b1b1b1;
  margin: 0 10px;
  text-decoration: none;
  transition: color 0.2s ease;
}

.footer-links a:hover {
  color: #00FFCC;
}

.footer-copy {
  font-size: 13px;
  color: #00FFCC;
}

/* Sjanger-galleri med ikon */
.genre-gallery a {
  display: flex;
  align-items: center;
  justify-content: space-between;  /* tekst til venstre, ikon til høyre */
  min-width: 160px;
  height: 60px;
  border-radius: 30px;
  background: #0d2c30;
  color: white;
  font-size: 16px;
  font-weight: bold;
  text-decoration: none;
  border: 2px solid transparent;
  transition: all 0.3s ease;
  padding: 0 18px;
}

.genre-gallery a i {
  margin-left: 8px;
  font-size: 18px;
}

.genre-gallery a:hover {
  border: 2px solid #00FFCC;
  box-shadow: 0 0 10px rgba(0, 255, 204, 0.6);
  transform: scale(1.05);
  color: #00FFCC;
}

/* ===== Mobilvennlig tilpasning ===== */
@media (max-width: 768px) {
  /* Navigasjon */
  .vertical-nav {
    width: 100%;
    height: 60px;
    flex-direction: row;
    justify-content: space-around;
    position: fixed;
    bottom: 0;
    top: auto;
    background: rgba(9, 27, 30, 0.95);
  }

  .nav-icons-wrapper {
    flex-direction: row;
    gap: 20px;
  }

  .profilmeny {
    margin-bottom: 0;
  }

  .profilmeny img {
    width: 40px;
    height: 40px;
  }

  .nav-icon {
    font-size: 20px;
    padding: 8px;
  }

  /* Hovedinnhold */
  main {
    margin-left: 0;
    margin-bottom: 70px; /* plass til bunnmeny */
    padding: 10px;
  }

  .top-header img {
    width: 140px;
  }

  /* Hero-banner */
  .hero-banner {
    height: 200px;
    margin-left: 0;
    width: 100%;
  }

  .film-logo {
    width: 180px;
  }

  .watch-button {
    padding: 8px 30px;
    font-size: 14px;
  }

  /* Gallerier */
  .image-gallery a img,
  .image-with-progress {
    width: 160px;
    height: 90px;
  }

  .genre-gallery a {
    min-width: 120px;
    height: 50px;
    font-size: 14px;
    padding: 0 12px;
  }
}

@media (max-width: 480px) {
  .film-logo {
    width: 140px;
  }

  .watch-button {
    padding: 6px 20px;
    font-size: 12px;
  }

  .image-gallery a img,
  .image-with-progress {
    width: 130px;
    height: 72px;
  }

  .genre-gallery a {
    font-size: 12px;
    min-width: 100px;
    height: 44px;
  }

  .footer {
    font-size: 12px;
    padding: 15px 5px;
  }
}


</style>
</head>
<body>
  <div class="vertical-nav" id="verticalNav">
    <div class="nav-icons-wrapper">
      <div class="profilmeny" onclick="gåTilKonto()">
        <img id="menyProfilbilde" src="https://via.placeholder.com/100" alt="Min profil" />
      </div>
      <a href="Søk.html" class="nav-icon" title="Søk"><i class="fas fa-search"></i></a>
      <a href="Hovedside.html" class="nav-icon active" title="Hjem"><i class="fas fa-house"></i></a>
      <a href="Film.html" class="nav-icon" title="Film"><i class="fas fa-film"></i></a>
      <a href="Serier.html" class="nav-icon" title="Serier"><i class="fas fa-tv"></i></a>
      <a href="Min-Liste.html" class="nav-icon" title="Min liste"><i class="fas fa-bookmark"></i></a>
    </div>
  </div>

  <main>
    <div class="content-wrapper">
      <div class="top-header">
        <div></div>
        <img src="https://static.wixstatic.com/media/fd2fb2_a4b2ace62dff4605a0387f46aad8a404~mv2.png" alt="Watch Logo" />
      </div>

      <!-- Hero Banner -->
      <section class="hero-banner">
        <img class="banner-image" src="https://montages.no/2016/10/analysen-kongens-nei-2016/kon4-2/" alt="Film Banner">
        <div class="banner-content">
          <img class="film-logo" src="https://upload.wikimedia.org/wikipedia/commons/f/f8/Kongens_nei.png" alt="Film Logo">
        </div>
      </section>

      <section class="gallery-section" id="fortsettÅSe">
        <h2>Fortsett å se</h2>
        <div class="gallery-wrapper">
          <div class="fade-left"></div>
          <button class="scroll-button left" onclick="scrollGallery(this, -1)">❮</button>
          <div class="image-gallery" id="fortsettGalleri"></div>
          <button class="scroll-button right" onclick="scrollGallery(this, 1)">❯</button>
          <div class="fade-right"></div>
        </div>
      </section>

     
    <section class="gallery-section">
      <h2>Nye filmer på Watch</h2>
      <div class="gallery-wrapper">
        <div class="fade-left"></div>
        <button class="scroll-button left" onclick="scrollGallery(this, -1)">❮</button>
       <div class="image-gallery">
  <a href="film.html?navn=max-manus"><img src="https://i-viaplay-com.akamaized.net/viaplay-prod/715/824/1635457989-6442d347e20c906721b462aa98a8195bb362abba.jpg?width=448&height=252" alt="Max Manus"></a>
  <a href="film.html?navn=kongens-nei"><img src="https://i-viaplay-com.akamaized.net/viaplay-prod/440/136/1481804637-d3396e82d915956b7b435991d4b13d7b0113256a.jpg?width=448&height=252" alt="Kongens nei"></a>
  <a href="film.html?navn=comet-in-moominland"><img src="https://static.wixstatic.com/media/fd2fb2_0639d85789b84e0b84e29d09a21632e2~mv2.jpg" alt="Comet in Moominland"></a>
  <a href="film.html?navn=elvis"><img src="https://beam-images.warnermediacdn.com/BEAM_LWM_DELIVERABLES/70b04aa5-5a83-4236-8212-a8fedd40a909/5c2c8d36b9f7e338b3732770ca285d9d06af67c9.jpg?host=wbd-images.prod-vod.h264.io&partner=beamcom" alt="Elvis"></a>
  <a href="film.html?navn=elio"><img src="https://disney.images.edge.bamgrid.com/ripcut-delivery/v2/variant/disney/ea82917b-65b0-4634-8943-6f13d5a8b368/compose?aspectRatio=1.78&format=webp&width=1200" alt="Elio"></a>
   <a href="film.html?navn=dog-man"><img src="https://m.media-amazon.com/images/S/pv-target-images/44839e4a60bb8205258ba5fb43d1369c8a3cdd27f628692f6d0bd5c6c0c35ca6.jpg" alt="Dog man"></a>
  <a href="film.html?navn=bamse-og-dunderklokken"><img src="https://beam-images.warnermediacdn.com/BEAM_LWM_DELIVERABLES/dbc86275-72ef-4012-a80e-4851224eb8bf/b00246ed-8e34-466b-84cd-340c02e2c6b1?host=wbd-images.prod-vod.h264.io&partner=beamcom&w=500" alt="Bamse og Dunderklokkene"></a>
  <a href="film.html?navn=dyrene-i-hakkabakkeskogen"><img src="https://is1-ssl.mzstatic.com/image/thumb/Video113/v4/b1/96/ac/b196acbf-3010-b760-3193-702c340000f0/1181928424-WW-AMP_SF.lsr/1200x675.jpg" alt="Dyrene i Hakkebakkeskogen"></a>
  <a href="film.html?navn=jul-i-flåklypa"><img src="https://sumo.cdn.tv2.no/imageapi/v3/img/5dbc0a4f498e1dc3eb8394b3-1700644038168" alt="Jul I Flåklypa"></a>
  <a href="film.html?navn=burlesque"><img src="https://static.wixstatic.com/media/fd2fb2_c85b71dfd8bc4cc6ae7ac39b8513370d~mv2.jpg" alt="burlesque"></a>
</div>

        <button class="scroll-button right" onclick="scrollGallery(this, 1)">❯</button>
        <div class="fade-right"></div>
      </div>

    </section>

   <section class="gallery-section">
  <h2>Sjangere</h2>
  <div class="gallery-wrapper">
    <div class="fade-left"></div>
    <button class="scroll-button left" onclick="scrollGallery(this, -1)">❮</button>
    <div class="image-gallery genre-gallery">
    <a href="sjanger.html?navn=barn">Barn / Familie <i class="fas fa-rocket"></i></a>
      <a href="sjanger.html?navn=komedie">Komedie <i class="fas fa-laugh"></i></a>
      <a href="sjanger.html?navn=skrekk">Skrekk <i class="fas fa-ghost"></i></a>
      <a href="sjanger.html?navn=drama">Drama <i class="fas fa-theater-masks"></i></a>
      <a href="sjanger.html?navn=romantikk">Romantikk <i class="fas fa-heart"></i></a>
      <a href="sjanger.html?navn=action">Action <i class="fas fa-bolt"></i></a>
    </div>
    <button class="scroll-button right" onclick="scrollGallery(this, 1)">❯</button>
    <div class="fade-right"></div>
  </div>
</section>


    

      <section class="gallery-section">
      <h2>Populære nå</h2>
      <div class="gallery-wrapper">
        <div class="fade-left"></div>
        <button class="scroll-button left" onclick="scrollGallery(this, -1)">❮</button>
        <div class="image-gallery">
  <a href="film.html?navn=dyrene-i-hakkabakkeskogen"><img src="https://is1-ssl.mzstatic.com/image/thumb/Video113/v4/b1/96/ac/b196acbf-3010-b760-3193-702c340000f0/1181928424-WW-AMP_SF.lsr/1200x675.jpg" alt="Dog Man"></a>
  <a href="film.html?navn=jul-i-flåklypa"><img src="https://sumo.cdn.tv2.no/imageapi/v3/img/5dbc0a4f498e1dc3eb8394b3-1700644038168" alt="Dog Man"></a>
  <a href="film.html?navn=corpse-bride"><img src="https://is1-ssl.mzstatic.com/image/thumb/Video124/v4/4b/f6/66/4bf66634-eace-f237-8991-a383189e2b03/pr_source.lsr/392x220.webp" alt="Corpse Bride"></a>
  <a href="film.html?navn=kaptein-sabeltann"><img src="https://beam-images.warnermediacdn.com/BEAM_LWM_DELIVERABLES/500cfa5c-264b-4366-9264-342b1569605e/32dcbd1e-b23c-4acd-ba97-2e6b6a42a620?host=wbd-images.prod-vod.h264.io&partner=beamcom&w=500" alt="Kaptein Sabeltann"></a>
  <a href="film.html?navn=hook"><img src="https://static.wixstatic.com/media/fd2fb2_3b5f5cd114b746e8b05881724a22a0e5~mv2.jpg" alt="Hook"></a>
        </div>
        <button class="scroll-button right" onclick="scrollGallery(this, 1)">❯</button>
        <div class="fade-right"></div>
      </div>
    </section>

        <section class="gallery-section">
      <h2>Barn</h2>
      <div class="gallery-wrapper">
        <div class="fade-left"></div>
        <button class="scroll-button left" onclick="scrollGallery(this, -1)">❮</button>
       <div class="image-gallery">
  <a href="film.html?navn=comet-in-moominland"><img src="https://static.wixstatic.com/media/fd2fb2_0639d85789b84e0b84e29d09a21632e2~mv2.jpg" alt="Comet in Moominland"></a>
  <a href="film.html?navn=elio"><img src="https://disney.images.edge.bamgrid.com/ripcut-delivery/v2/variant/disney/ea82917b-65b0-4634-8943-6f13d5a8b368/compose?aspectRatio=1.78&format=webp&width=1200" alt="Elio"></a>
   <a href="film.html?navn=dog-man"><img src="https://m.media-amazon.com/images/S/pv-target-images/44839e4a60bb8205258ba5fb43d1369c8a3cdd27f628692f6d0bd5c6c0c35ca6.jpg" alt="Dog man"></a>
  <a href="film.html?navn=bamse-og-dunderklokken"><img src="https://beam-images.warnermediacdn.com/BEAM_LWM_DELIVERABLES/dbc86275-72ef-4012-a80e-4851224eb8bf/b00246ed-8e34-466b-84cd-340c02e2c6b1?host=wbd-images.prod-vod.h264.io&partner=beamcom&w=500" alt="Bamse og Dunderklokkene"></a>
  <a href="film.html?navn=dyrene-i-hakkabakkeskogen"><img src="https://is1-ssl.mzstatic.com/image/thumb/Video113/v4/b1/96/ac/b196acbf-3010-b760-3193-702c340000f0/1181928424-WW-AMP_SF.lsr/1200x675.jpg" alt="Dyrene i Hakkebakkeskogen"></a>
  <a href="film.html?navn=jul-i-flåklypa"><img src="https://sumo.cdn.tv2.no/imageapi/v3/img/5dbc0a4f498e1dc3eb8394b3-1700644038168" alt="Jul I Flåklypa"></a>
</div>

        <button class="scroll-button right" onclick="scrollGallery(this, 1)">❯</button>
        <div class="fade-right"></div>
      </div>

    </section>

       <section class="gallery-section">
      <h2>Serier</h2>
      <div class="gallery-wrapper">
        <div class="fade-left"></div>
        <button class="scroll-button left" onclick="scrollGallery(this, -1)">❮</button>
        <div class="image-gallery">
  <a href="Serie.html?navn=bear-in-the-big-blue-house"><img src="https://is1-ssl.mzstatic.com/image/thumb/StkuCW4eGb51ZjFOlGWmnA/1200x675.jpg" alt="bear in the big blue house"></a>
        </div>
        <button class="scroll-button right" onclick="scrollGallery(this, 1)">❯</button>
        <div class="fade-right"></div>
      </div>
    </section>
    

    <footer class="footer">
  <div class="footer-links">
    <a href="kontakt.html">Kontakt oss</a>
    <a href="personvern.html">Personvern</a>
    <a href="vilkar.html">Vilkår for bruk</a>
    <a href="hjelp.html">Hjelp</a>
  </div>
  <div class="footer-copy">
    © 2025 Watch Nordic Grupe
  </div>
</footer>

</main>
<script>
// === Autentisering ===
const innloggetBruker = localStorage.getItem("innloggetBruker");
if (!innloggetBruker) {
  window.location.href = "Starts side.html"; // Send til start hvis ikke logget inn
}

// Hent brukerdata hvis nødvendig
const brukere = JSON.parse(localStorage.getItem("brukere") || "{}");
const bruker = brukere[innloggetBruker];

// === Navigasjon ===
function gåTilKonto() {
  window.location.href = "konto.html";
}

// Profilbilde fra localStorage
const lagretBilde = localStorage.getItem("profilbilde");
if (lagretBilde) {
  document.getElementById("menyProfilbilde").src = lagretBilde;
}

// === Scroll-funksjon for gallerier ===
function scrollGallery(button, direction) {
  const gallery = button.closest('.gallery-wrapper').querySelector('.image-gallery');
  const scrollAmount = 250;
  const start = gallery.scrollLeft;
  const target = start + scrollAmount * direction;
  const duration = 300;

  let startTime = null;

  function animateScroll(time) {
    if (!startTime) startTime = time;
    const progress = Math.min((time - startTime) / duration, 1);
    gallery.scrollLeft = start + (target - start) * easeInOutCubic(progress);

    if (progress < 1) {
      requestAnimationFrame(animateScroll);
    } else {
      updateScrollButtons(gallery);
    }
  }

  requestAnimationFrame(animateScroll);
}

function easeInOutCubic(t) {
  return t < 0.5
    ? 4 * t * t * t
    : 1 - Math.pow(-2 * t + 2, 3) / 2;
}

function updateScrollButtons(gallery) {
  const wrapper = gallery.closest('.gallery-wrapper');
  const leftBtn = wrapper.querySelector('.scroll-button.left');
  const rightBtn = wrapper.querySelector('.scroll-button.right');
  const fadeLeft = wrapper.querySelector('.fade-left');
  const fadeRight = wrapper.querySelector('.fade-right');

  const atStart = gallery.scrollLeft <= 0;
  const atEnd = Math.ceil(gallery.scrollLeft + gallery.clientWidth) >= gallery.scrollWidth;

  leftBtn.classList.toggle('hidden', atStart);
  rightBtn.classList.toggle('hidden', atEnd);
  fadeLeft.classList.toggle('fade-hidden', atStart);
  fadeRight.classList.toggle('fade-hidden', atEnd);
}

// === Fortsett å se ===
function renderFortsettÅSe() {
  const galleri = document.getElementById("fortsettGalleri");
  galleri.innerHTML = "";

  let filmer = JSON.parse(localStorage.getItem("fortsettFilmer") || "[]");
  const ikkeFerdige = filmer.filter(f => f.lastWatched < 95);

  if (ikkeFerdige.length === 0) {
    document.getElementById("fortsettÅSe").style.display = "none";
    return;
  }

  ikkeFerdige.forEach(film => {
    const lenke = document.createElement("a");
    lenke.href = film.link.includes("?")
      ? `${film.link}&start=${film.lastWatched}`
      : `${film.link}?start=${film.lastWatched}`;
    lenke.style.display = "block";

    const wrapper = document.createElement("div");
    wrapper.className = "image-with-progress";

    const bilde = document.createElement("img");
    bilde.src = film.poster || film.thumbnail || "https://via.placeholder.com/220x124?text=Film";
    bilde.alt = film.title;

    const progressBar = document.createElement("div");
    progressBar.className = "progress-bar";
    progressBar.style.setProperty("--progress", `${Math.min(film.lastWatched, 100)}%`);

    wrapper.appendChild(bilde);
    wrapper.appendChild(progressBar);
    lenke.appendChild(wrapper);
    galleri.appendChild(lenke);
  });
}

// === Start film og lagre i localStorage ===
function startFilm(filmData) {
  let filmer = JSON.parse(localStorage.getItem("fortsettFilmer") || "[]");
  const index = filmer.findIndex(f => f.link === filmData.link);
  if (index !== -1) filmer.splice(index, 1);
  filmer.unshift(filmData);
  localStorage.setItem("fortsettFilmer", JSON.stringify(filmer));
}

// Automatisk registrering når bruker klikker "Se film"
function leggTilAutoStartFilm() {
  const knapper = document.querySelectorAll(".watch-button");

  knapper.forEach(knapp => {
    knapp.addEventListener("click", () => {
      const href = knapp.getAttribute("href");
      if (!href || !href.includes("film.html?navn=")) return;

      const navn = new URLSearchParams(href.split("?")[1]).get("navn");
      const filmTittel = navn.replace(/-/g, " ").replace(/\b\w/g, l => l.toUpperCase());

      const heroBanner = knapp.closest(".hero-banner");
      let posterBilde = null;
      if (heroBanner) {
        const bilde = heroBanner.querySelector(".banner-image");
        if (bilde) posterBilde = bilde.src;
      }

      startFilm({
        title: filmTittel,
        link: href,
        poster: posterBilde,
        lastWatched: 0
      });
    });
  });
}

// === Cookie-banner ===
function visCookieBanner() {
  const banner = document.getElementById("cookieBanner");
  if (!banner) return;
  if (!localStorage.getItem("cookiesGodtatt")) {
    banner.style.display = "block";
  }
}

function godtaCookies() {
  localStorage.setItem("cookiesGodtatt", true);
  const banner = document.getElementById("cookieBanner");
  if (banner) banner.style.display = "none";
}

// === Marker valgt bilde ===
function leggTilBildeMarkering() {
  document.querySelectorAll(".image-gallery a").forEach(link => {
    link.addEventListener("click", (e) => {
      document.querySelectorAll(".image-gallery a").forEach(l => l.classList.remove("selected"));
      link.classList.add("selected");
    });
  });
}

// === Når siden er lastet ===
document.addEventListener("DOMContentLoaded", () => {
  // Oppdater scroll-knapper
  const galleries = document.querySelectorAll('.image-gallery');
  galleries.forEach(gallery => {
    updateScrollButtons(gallery);
    gallery.addEventListener('scroll', () => updateScrollButtons(gallery));
  });

  renderFortsettÅSe();
  visCookieBanner();
  leggTilAutoStartFilm();
  leggTilBildeMarkering();
});

</script>






