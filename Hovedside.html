<!DOCTYPE html>
<html lang="no">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>Hovedsiden</title>

Â  <link rel="icon" type="image/png" href="https://static.wixstatic.com/media/fd2fb2_39376e4ee55b460ab7a3ebbfcf35fef7~mv2.png" />
Â  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
Â <style>
* {
Â  box-sizing: border-box;
Â  margin: 0;
Â  padding: 0;
}

html, body {
Â  font-family: Arial, sans-serif;
Â  background: #091B1E;
Â  color: white;
Â  overflow-x: hidden;
}

/* Navigasjon til venstre */
.vertical-nav {
Â  width: 70px;
Â  height: 100vh;
Â  background-color: transparent;
Â  position: fixed;
Â  top: 0;
Â  left: 0;
Â  display: flex;
Â  flex-direction: column;
Â  align-items: center;
Â  justify-content: center;
Â  z-index: 100;
}

.nav-icons-wrapper {
Â  display: flex;
Â  flex-direction: column;
Â  align-items: center;
Â  justify-content: center;
Â  gap: 10px;
}

.profilmeny {
Â  cursor: pointer;
Â  margin-bottom: 10px;
}

.profilmeny img {
Â  width: 48px;
Â  height: 48px;
Â  border-radius: 50%;
Â  object-fit: cover;
Â  border: 2px solid #fff;
}

.nav-icon {
Â  color: white;
Â  font-size: 22px;
Â  padding: 16px 0;
Â  text-decoration: none;
Â  text-align: center;
Â  width: 100%;
Â  transition: color 0.3s ease;
Â  cursor: pointer;
Â  background: none;
Â  border: none;
}

.nav-icon:hover,
.nav-icon.active {
Â  color: #00FFCC;
}

/* Hovedinnhold */
main {
Â  margin-left: 80px;Â  Â  Â  Â /* beholder plass for menyen */
Â  margin-right: 80px;Â  Â  Â  /* legger til luft pÃ¥ hÃ¸yre side */
Â  padding-top: 0; /* ikke legg til ekstra plass nÃ¥ */
Â  max-width: 1400px;
}



.content-wrapper {
Â  width: 85%;Â  Â  Â  Â  Â  Â  Â  /* mindre bredde = mer luft pÃ¥ sidene */
Â  max-width: 1400px;Â  Â  Â  Â /* begrenser bredden pÃ¥ store skjermer */
Â  margin: 0 auto;Â  Â  Â  Â  Â  /* sentrerer innholdet */
Â  padding: 0 20px;Â  Â  Â  Â  Â /* litt ekstra luft inni */
}



Â  main {
Â  min-height: 100vh;
Â  display: flex;
Â  flex-direction: column;
}


/* === Header PC === */
.top-header {
Â  display: flex;
Â  align-items: center;
Â  width: 100%;
Â  margin-bottom: 20px;
}

.top-header .watch-logo {
Â  margin-left: auto;
Â  width: 200px;
}

.top-header .header-profil {
Â  display: none;
}

.top-header img.watch-logo {
Â  width: 200px;
}

/* Hero-banner */
.hero-banner {
Â  position: relative;
Â  height: 75vh;
Â  min-height: 500px;
Â  width: 100%;
Â  overflow: hidden;
Â  margin-bottom: 50px;
Â  background-color: black;
}

.hero-banner::after {
Â  content: "";
Â  position: absolute;
Â  inset: 0;
background: linear-gradient(
Â  to top,
Â  rgba(9, 27, 30, 1) 10%,
Â  rgba(9, 27, 30, 0.6) 50%,
Â  rgba(9, 27, 30, 0) 90%
);

Â  z-index: 1;
}

.banner-image {
Â  width: 100%;
Â  height: 100%;
Â  object-fit: cover;
Â  display: block;
}

.banner-content {
Â  position: absolute;
Â  top: 25%;
Â  left: 80px;
Â  transform: translateY(-15%);
Â  z-index: 2;
Â  display: flex;
Â  flex-direction: column;
Â  align-items: flex-start;
Â  gap: 16px;
Â  max-width: 600px;
Â  color: white;
}

Â  .banner-video {
Â  width: 100%;
Â  height: 100%;
Â  object-fit: fill; /* Tvinger full strekking, vil forvrenge videoen */
}



.film-logo {
Â  width: 400px;Â  Â  Â  Â  /* stÃ¸rre standardbredde */
Â  max-width: 80%;Â  Â  Â  /* tillater mer plass */
Â  max-height: 250px;Â  Â /* hÃ¸yere vertikal begrensning */
Â  object-fit: contain;
Â  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.8));
}

.banner-meta {
Â  font-size: 16px;
Â  color: White;
}

.banner-content p {
Â  font-size: 18px;
Â  line-height: 1.4;
Â  color: #ddd;
Â  max-width: 500px;
Â  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.8);

Â  /* NYTT â€“ begrens tekst */
Â  display: -webkit-box;
Â  -webkit-line-clamp: 3; /* maks 3 linjer â€“ juster tallet */
Â  -webkit-box-orient: vertical;
Â  overflow: hidden;
}


.banner-buttons {
Â  display: flex;
Â  gap: 16px;
}

.watch-button,
.details-button {
Â  font-size: 18px;
Â  font-weight: bold;
Â  padding: 12px 40px;
Â  border-radius: 6px;
Â  cursor: pointer;
Â  transition: all 0.3s ease;
}

.watch-button {
Â  background-color: #00FFCC;
Â  color: black;
Â  border: none;
}

.watch-button:hover {
Â  background-color: #00e6b8;
Â  transform: scale(1.05);
}

.details-button {
Â  background: rgba(255, 255, 255, 0.15);
Â  color: white;
Â  border: 1px solid rgba(255, 255, 255, 0.4);
Â  backdrop-filter: blur(4px);
}

.details-button:hover {
Â  background: rgba(255, 255, 255, 0.3);
Â  transform: scale(1.05);
}

Â  .banner-content p {
Â  display: none !important;
}


/* Mobilversjon */
@media (max-width: 768px) {
Â  .hero-banner {
Â  Â  height: 60vh;
Â  Â  min-height: 300px;
Â  }

Â  .banner-content {
Â  Â  bottom: 50px;
Â  Â  left: 20px;
Â  Â  max-width: 90%;
Â  }

Â  .film-logo {
Â  Â  width: 250px;
Â  }

Â  .banner-content p {
Â  Â  font-size: 14px;
Â  }

Â  .banner-meta {
Â  Â  font-size: 13px;
Â  }

Â  .watch-button,
Â  .details-button {
Â  Â  font-size: 14px;
Â  Â  padding: 8px 20px;
Â  }
}

/* Gallerier */
.gallery-section {
Â  margin-bottom: 20px;
}

.gallery-section h2 {
Â  font-size: 18px;
Â  margin-bottom: 12px;
Â  color: #00FFCC;
Â  padding-left: 16px;
}

.gallery-wrapper {
Â  position: relative;
Â  display: flex;
Â  align-items: center;
}

.fade-left,
.fade-right {
Â  position: absolute;
Â  top: 0;
Â  bottom: 0;
Â  width: 70px;
Â  z-index: 1;
Â  pointer-events: none;
Â  opacity: 0;
Â  transition: opacity 0.3s ease;
}

.fade-left {
Â  left: 0;
Â  background: linear-gradient(to right, #091B1E, rgba(9, 27, 30, 0));
}

.fade-right {
Â  right: 0;
Â  background: linear-gradient(to left, #091B1E, rgba(9, 27, 30, 0));
}

.gallery-wrapper:hover .scroll-button:not(.hidden),
.gallery-wrapper:hover .fade-left:not(.fade-hidden),
.gallery-wrapper:hover .fade-right:not(.fade-hidden) {
Â  opacity: 1;
Â  pointer-events: auto;
}

.fade-hidden {
Â  display: none;
}

.scroll-button {
Â  position: absolute;
Â  top: 50%;
Â  transform: translateY(-50%);
Â  background: none;
Â  border: none;
Â  color: white;
Â  font-size: 28px;
Â  cursor: pointer;
Â  z-index: 2;
Â  opacity: 0;
Â  pointer-events: none;
Â  transition: opacity 0.3s ease;
Â  user-select: none;
}

.scroll-button.left {
Â  left: 0;
}

.scroll-button.right {
Â  right: 0;
}

.scroll-button.hidden {
Â  display: none !important;
Â  opacity: 0 !important;
Â  pointer-events: none !important;
}

.scroll-button:hover {
Â  color: #00FFCC;
}

/* Selve bilde-galleriet */
.image-gallery {
Â  flex: 1;
Â  display: flex;
Â  overflow-x: auto;
Â  gap: 16px;
Â  padding: 10px 16px;
Â  scroll-behavior: smooth;
Â  -ms-overflow-style: none;
}

.image-gallery::-webkit-scrollbar {
Â  display: none;
}

.image-gallery a {
Â  display: inline-block;
Â  position: relative;
Â  border-radius: 5px;
Â  background: transparent;
Â  overflow: visible;
Â  border: 2px solid transparent;
Â  transition: border 0.3s ease, box-shadow 0.3s ease, transform 0.3s ease;
}

.image-gallery a img {
Â  width: 220px;
Â  height: 124px;
Â  object-fit: cover;
Â  border-radius: 5px;
Â  display: block;
Â  transition: transform 0.3s ease;
}

.image-gallery a:hover img {
Â  transform: scale(1.05);
}

/* Fremdriftslinje pÃ¥ filmer */
.image-with-progress {
Â  position: relative;
Â  width: 220px;
Â  height: 124px;
Â  border-radius: 8px;
Â  overflow: hidden;
}

.image-with-progress img {
Â  width: 100%;
Â  height: 100%;
Â  object-fit: cover;
}

.progress-bar {
Â  position: absolute;
Â  bottom: 0;
Â  left: 0;
Â  height: 4px;
Â  width: 100%;
Â  background-color: rgba(255, 255, 255, 0.2);
}

.progress-bar::after {
Â  content: '';
Â  position: absolute;
Â  height: 100%;
Â  left: 0;
Â  top: 0;
Â  background-color: #00FFCC;
Â  width: var(--progress, 0%);
Â  transition: width 0.3s ease;
}

/* Footer */
.footer {
Â  margin-top: 40px;
Â  padding: 20px 10px;
Â  text-align: center;
Â  color: #515151;
Â  font-size: 14px;
}

.footer-links {
Â  margin-bottom: 10px;
}

.footer-links a {
Â  color: #b1b1b1;
Â  margin: 0 10px;
Â  text-decoration: none;
Â  transition: color 0.2s ease;
}

.footer-links a:hover {
Â  color: #00FFCC;
}

.footer-copy {
Â  font-size: 13px;
Â  color: #00FFCC;
}

/* Sjanger-galleri */
.genre-gallery a {
Â  display: flex;
Â  align-items: center;
Â  justify-content: space-between;
Â  min-width: 160px;
Â  height: 60px;
Â  border-radius: 30px;
Â  background: #0d2c30;
Â  color: white;
Â  font-size: 16px;
Â  font-weight: bold;
Â  text-decoration: none;
Â  border: 2px solid transparent;
Â  transition: all 0.3s ease;
Â  padding: 0 18px;
}

.genre-gallery a i {
Â  margin-left: 8px;
Â  font-size: 18px;
}

.genre-gallery a:hover {
Â  border: 2px solid #00FFCC;
Â  box-shadow: 0 0 10px rgba(0, 255, 204, 0.6);
Â  transform: scale(1.05);
Â  color: #00FFCC;
}

/* === Kommende filmer â€“ forbedret utseende === */
.coming-movies-gallery {
Â  display: flex;
Â  flex-direction: row;
Â  gap: 22px;
Â  padding: 20px 16px;
Â  overflow-x: auto;
Â  scroll-behavior: smooth;
Â  -ms-overflow-style: none;
}
.coming-movies-gallery::-webkit-scrollbar {
Â  display: none;
}

.coming-movie-item {
Â  position: relative;
Â  flex: 0 0 180px;
Â  height: 300px;
Â  border-radius: 8px;
Â  overflow: hidden;
Â  cursor: pointer;
Â  transition: all 0.6s ease;
Â  background-color: #000;
Â  box-shadow: 0 0 20px rgba(0,0,0,0.4);
Â  transform-origin: center;
}

.coming-movie-item:hover {
Â  flex: 0 0 440px;
Â  transform: scale(1.03);
}

/* Bakgrunnsbilde */
.coming-movie-item img.banner {
Â  position: absolute;
Â  inset: 0;
Â  width: 100%;
Â  height: 100%;
Â  object-fit: cover;
Â  transition: opacity 0.6s ease;
}

/* Video */
.coming-movie-item video {
Â  position: absolute;
Â  inset: 0;
Â  width: 100%;
Â  height: 100%;
Â  object-fit: cover;
Â  opacity: 0;
Â  transition: opacity 0.8s ease;
Â  z-index: 1;
}

.coming-movie-item.show-video video {
Â  opacity: 1;
}
.coming-movie-item.show-video img.banner {
Â  opacity: 0;
}

/* === Kommende filmer logo â€“ automatisk responsiv === */
.coming-movie-item .logo {
Â  position: absolute;
Â  bottom: 20px;
Â  left: 50%;
Â  transform: translateX(-50%);
Â  max-height: 50px;Â  Â  Â  /* maks hÃ¸yde i lite format */
Â  max-width: 90%;Â  Â  Â  Â  /* aldri bredere enn elementet */
Â  z-index: 3;
Â  transition: all 0.4s ease;
Â  background: none !important;
Â  backdrop-filter: none !important;
Â  padding: 0;
Â  border: none;
Â  object-fit: contain;Â  Â  /* beholder proporsjoner */
Â  filter: drop-shadow(0 0 4px rgba(0,0,0,0.6)); /* lett kontrast mot bakgrunn */
}

/* NÃ¥r filmen utvides (stort bilde) */
.coming-movie-item.expanded .logo {
Â  left: 25px;
Â  transform: none;
Â  max-height: 70px;
Â  max-width: 100%;
Â  filter: drop-shadow(0 0 6px rgba(0,0,0,0.7));
Â  transition: all 0.4s ease;
}

/* Automatisk mindre for ekstremt brede logoer */
.coming-movie-item.expanded .logo.wide {
Â  max-width: 60%;
Â  max-height: 55px;
}

/* SÃ¸rg for at dato alltid ligger nederst og tydelig */
.coming-movie-item .coming-movie-info {
Â  position: absolute;
Â  bottom: 15px;
Â  right: 15px;
Â  font-size: 14px;
Â  color: #fff;
Â  z-index: 4;
Â  opacity: 0;
Â  transition: opacity 0.4s ease;
Â  background: rgba(0,0,0,0.4);
Â  padding: 6px 10px;
Â  border-radius: 8px;
Â  backdrop-filter: blur(6px);
}

.coming-movie-item.expanded .coming-movie-info {
Â  opacity: 1;
}

.coming-movie-item .coming-movie-info i {
Â  color: #00FFCC;
Â  margin-right: 6px;
}

/* Litt dybde og hover-effekt */
.coming-movie-item:hover .coming-movie-info,
.coming-movie-item:hover .logo {
Â  filter: drop-shadow(0 0 6px rgba(0,255,204,0.7));
}

/* Responsivt justert for smÃ¥ skjermer */
@media (max-width: 768px) {
Â  .coming-movie-item {
Â  Â  flex: 0 0 200px;
Â  Â  height: 260px;
Â  }
Â  .coming-movie-item:hover {
Â  Â  flex: 0 0 280px;
Â  }
Â  .coming-movie-item .logo {
Â  Â  height: 50px;
Â  }
}


/* === Kommende filmer logo â€“ automatisk responsiv === */
.coming-movie-item .logo {
Â  position: absolute;
Â  bottom: 20px;
Â  left: 50%;
Â  transform: translateX(-50%);
Â  max-height: 50px;Â  Â  Â  /* maks hÃ¸yde i lite format */
Â  max-width: 90%;Â  Â  Â  Â  /* aldri bredere enn elementet */
Â  z-index: 3;
Â  transition: all 0.4s ease;
Â  background: none !important;
Â  backdrop-filter: none !important;
Â  padding: 0;
Â  border: none;
Â  object-fit: contain;Â  Â  /* beholder proporsjoner */
Â  filter: drop-shadow(0 0 4px rgba(0,0,0,0.6));
}

/* NÃ¥r filmen utvides (stort bilde) */
.coming-movie-item.expanded .logo {
Â  left: 25px;
Â  transform: none;
Â  max-height: 70px;
Â  max-width: 100%;
Â  filter: drop-shadow(0 0 6px rgba(0,0,0,0.7));
Â  transition: all 0.4s ease;
}

/* Automatisk mindre hvis logoen er veldig bred (for Ã¥ unngÃ¥ overlapp) */
.coming-movie-item.expanded .logo[width][height] {
Â  aspect-ratio: attr(width) / attr(height);
}

.coming-movie-item.expanded .logo {
Â  max-width: clamp(40%, 80vw, 90%); /* dynamisk begrensning */
}

@media (min-aspect-ratio: 3/1) {
Â  .coming-movie-item.expanded .logo {
Â  Â  max-width: 60%;
Â  Â  max-height: 60px;
Â  }
}

/* SÃ¸rg for at dato alltid ligger nederst og tydelig */
.coming-movie-item .coming-movie-info {
Â  position: absolute;
Â  bottom: 15px;
Â  right: 15px;
Â  font-size: 14px;
Â  color: #fff;
Â  z-index: 4;
Â  opacity: 0;
Â  transition: opacity 0.4s ease;
Â  background: rgba(0,0,0,0.4);
Â  padding: 6px 10px;
Â  border-radius: 8px;
Â  backdrop-filter: blur(6px);
}

.coming-movie-item.expanded .coming-movie-info {
Â  opacity: 1;
}

.coming-movie-item .coming-movie-info i {
Â  color: #00FFCC;
Â  margin-right: 6px;
}

/* Litt dybde og hover-effekt */
.coming-movie-item:hover .coming-movie-info,
.coming-movie-item:hover .logo {
Â  filter: drop-shadow(0 0 6px rgba(0,255,204,0.7));
}

/* Responsivt justert for smÃ¥ skjermer */
@media (max-width: 768px) {
Â  .coming-movie-item {
Â  Â  flex: 0 0 200px;
Â  Â  height: 260px;
Â  }
Â  .coming-movie-item:hover {
Â  Â  flex: 0 0 280px;
Â  }
Â  .coming-movie-item .logo {
Â  Â  height: 50px;
Â  }
}

/* === Topp 10 filmer === */
.top10-gallery {
Â  display: flex;
Â  flex-direction: row;
Â  gap: 30px;
Â  padding: 10px 16px;
Â  overflow-x: auto;
Â  overflow-y: hidden;
Â  -webkit-overflow-scrolling: touch;
}

.top10-gallery::-webkit-scrollbar {
Â  display: none;
}

.top10-item {
Â  position: relative;
Â  display: inline-block;
Â  border-radius: 8px;
Â  cursor: pointer;
Â  transition: transform 0.3s ease;
}

.top10-item img {
Â  width: 150px;
Â  height: 225px;
Â  border-radius: 8px;
Â  display: block;
}

.top10-item:hover {
Â  transform: scale(1.05);
}

.top10-number {
Â  position: absolute;
Â  bottom: -10px;
Â  left: -15px;
Â  font-size: 70px;
Â  font-weight: 900;
Â  line-height: 1;
Â  color: transparent;
Â  -webkit-text-stroke: 3px #00FFCC;
Â  z-index: 2;
Â  transition: all 0.3s ease;
Â  pointer-events: none;
}

.top10-item:hover .top10-number {
Â  color: #00FFCC;
Â  -webkit-text-stroke: 0;
}

/* ===== Mobilvennlig tilpasning ===== */
@media (max-width: 768px) {
Â  .vertical-nav {
Â  Â  width: 100%;
Â  Â  height: 60px;
Â  Â  flex-direction: row;
Â  Â  justify-content: space-around;
Â  Â  position: fixed;
Â  Â  bottom: 0;
Â  Â  top: auto;
Â  Â  background: rgba(9, 27, 30, 0.95);
Â  }

Â  .nav-icons-wrapper {
Â  Â  flex-direction: row;
Â  Â  gap: 20px;
Â  }

Â  .profilmeny {
Â  Â  margin-bottom: 0;
Â  }

Â  .nav-icon {
Â  Â  font-size: 20px;
Â  Â  padding: 8px;
Â  }

Â  main {
Â  Â  margin-left: 0;
Â  Â  margin-bottom: 70px;
Â  Â  padding: 10px;
Â  }

Â  .top-header {
Â  Â  justify-content: space-between;
Â  }

Â  .top-header .watch-logo {
Â  Â  order: 1;
Â  Â  width: 140px;
Â  }

Â  .top-header .header-profil {
Â  Â  display: block;
Â  Â  order: 2;
Â  }

Â  .hero-banner {
Â  Â  height: 200px;
Â  Â  margin-left: 0;
Â  Â  width: 100%;
Â  }

Â  .film-logo {
Â  Â  width: 180px;
Â  }

Â  .watch-button {
Â  Â  padding: 8px 30px;
Â  Â  font-size: 14px;
Â  }

Â  .image-gallery a img,
Â  .image-with-progress {
Â  Â  width: 160px;
Â  Â  height: 90px;
Â  }

Â  .genre-gallery a {
Â  Â  min-width: 120px;
Â  Â  height: 50px;
Â  Â  font-size: 14px;
Â  Â  padding: 0 12px;
Â  }

Â  .top10-item img {
Â  Â  width: 140px;
Â  Â  height: 210px;
Â  }

Â  .top10-number {
Â  Â  font-size: 100px;
Â  }

Â  .special-hero-banner {
Â  Â  height: auto;
Â  }

Â  .banner-overlay {
Â  Â  flex-direction: column;
Â  Â  align-items: center;
Â  Â  gap: 20px;
Â  }

Â  .banner-right {
Â  Â  max-width: 100%;
Â  Â  justify-content: center;
Â  }

Â  .banner-left .film-logo {
Â  Â  width: 200px;
Â  }

Â  #halloween-gallery a {
Â  Â  width: 100px;
Â  Â  height: 150px;
Â  }
}

@media (max-width: 480px) {
Â  .film-logo {
Â  Â  width: 140px;
Â  }

Â  .watch-button {
Â  Â  padding: 6px 20px;
Â  Â  font-size: 12px;
Â  }

Â  .image-gallery a img,
Â  .image-with-progress {
Â  Â  width: 130px;
Â  Â  height: 72px;
Â  }

Â  .genre-gallery a {
Â  Â  font-size: 12px;
Â  Â  min-width: 100px;
Â  Â  height: 44px;
Â  }

Â  .footer {
Â  Â  font-size: 12px;
Â  Â  padding: 15px 5px;
Â  }

Â  .top10-item img {
Â  Â  width: 120px;
Â  Â  height: 180px;
Â  }

Â  .top10-number {
Â  Â  font-size: 80px;
Â  }

Â  .hero-banner {
Â  height: 40vh; /* Tar 40% av skjermhÃ¸yden */
Â  min-height: 300px;
Â  max-height: 600px;
}

}

Â .banner-buttons {
Â  display: flex;
Â  gap: 16px;
Â  margin-top: 10px;
}

.details-button {
Â  text-decoration: none;
Â  background-color: transparent;
Â  color: white;
Â  border: 2px solid white;
Â  padding: 10px 40px;
Â  border-radius: 4px;
Â  font-weight: bold;
Â  cursor: pointer;
Â  transition: all 0.3s ease;
}

.details-button:hover {
Â  background-color: white;
Â  color: black;
}

/* === MENY MED FADE OG SCROLL-BAKGRUNN === */
.top-nav {
Â  position: fixed;
Â  top: 0;
Â  left: 0;
Â  width: 100%;
Â  height: 70px;
Â  display: flex;
Â  align-items: center;
Â  justify-content: space-between;
Â  padding: 0 50px;
Â  z-index: 500;
Â  background: transparent;
Â  transition: background 0.4s ease, box-shadow 0.4s ease;
}

.top-nav::before {
Â  content: "";
Â  position: absolute;
Â  top: 0;
Â  left: 0;
Â  width: 100%;
Â  height: 100%;
Â  background: linear-gradient(to bottom, rgba(9, 27, 30, 0.9), rgba(9, 27, 30, 0));
Â  z-index: -1;
Â  transition: opacity 0.4s ease, background 0.4s ease;
Â  opacity: 1;
}

/* NÃ¥r du scroller â€“ solid mÃ¸rk bakgrunn */
.top-nav.scrolled::before {
Â  background: rgba(9, 27, 30, 0.95);
Â  opacity: 1;
}

/* Liten skygge nÃ¥r du scroller ned for ekstra kontrast */
.top-nav.scrolled {
Â  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.4);
}


/* Logo og venstreside */
.nav-left {
Â  display: flex;
Â  align-items: center;
Â  gap: 40px;
}

.top-nav .watch-logo {
Â  width: 130px;
Â  height: auto;
Â  cursor: pointer;
}

/* Navigasjonslenker */
.nav-links {
Â  display: flex;
Â  gap: 26px;
}

.nav-links a {
Â  color: #bfbfbf;
Â  text-decoration: none;
Â  font-weight: 500;
Â  font-size: 15px;
Â  transition: color 0.3s ease;
}

.nav-links a:hover {
Â  color: #fff;
}

.nav-links a.active {
Â  color: #00FFCC;
Â  font-weight: bold;
}

/* HÃ¸yre side: sÃ¸k + profil */
.nav-right {
Â  display: flex;
Â  align-items: center; /* â† sÃ¸rger for at de stÃ¥r pÃ¥ samme linje */
Â  gap: 12px; /* valgfritt: reduserer mellomrommet litt */
}



.nav-search {
Â  color: #bfbfbf;
Â  font-size: 18px;
Â  transition: color 0.3s ease;
}

.nav-search:hover {
Â  color: #00FFCC;
}

.profilmeny img {
Â  width: 42px;
Â  height: 42px;
Â  border-radius: 50%;
Â  border: 2px solid #fff;
Â  object-fit: cover;
Â  cursor: pointer;
Â  transition: transform 0.3s ease, border 0.3s ease;
}

.profilmeny img {
Â  vertical-align: middle;
Â  transform: translateY(1px); /* valgfritt â€“ juster opp/ned om nÃ¸dvendig */
}

/* Skygger for Ã¥ fremheve meny over banner */
.top-nav.scrolled {
Â  background: None;
Â  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.6);
}

/* Responsiv tilpasning */
@media (max-width: 768px) {
Â  .top-nav {
Â  Â  padding: 0 20px;
Â  Â  height: 60px;
Â  }

Â  .nav-links {
Â  Â  display: none; /* skjul tekstmeny pÃ¥ mobil */
Â  }

Â  .watch-logo {
Â  Â  width: 110px;
Â  }

Â  .nav-search {
Â  Â  font-size: 20px;
Â  }

Â .profilmeny img {
Â  vertical-align: middle;
Â  transform: translateY(1px); /* valgfritt â€“ juster opp/ned om nÃ¸dvendig */
}

}

Â  /* Ã˜ker avstanden fra kantene for titler og gallerier */
.gallery-section {
Â  margin-left: 30px;
Â  margin-right: 30px;
}

.gallery-section h2 {
Â  padding-left: 10px; /* liten justering innad i seksjonen */
Â  margin-bottom: 14px;
}

.gallery-wrapper {
Â  padding-left: 10px;
Â  padding-right: 10px;
}

Â  /* Beholder galleriet inntil kanten */
.gallery-wrapper {
Â  padding-left: 0;
Â  padding-right: 0;
}

/* Trekker tittelen lenger inn fra venstre kant */
.gallery-section h2 {
Â  margin-left: 40px; /* juster tallet etter smak, f.eks. 80px */
Â  margin-bottom: 14px;
}

Â  .banner-video {
Â  position: absolute;
Â  inset: 0;
Â  width: 100%;
Â  height: 100%;
Â  object-fit: cover;
Â  display: none;
Â  z-index: 0;
}

Â  /* ===== MOBIL- OG NETTBRETTOPTIMALISERING ===== */
@media (max-width: 1024px) {
Â  /* Skjul navigasjonspiler og fade-effekter */
Â  .scroll-button,
Â  .fade-left,
Â  .fade-right {
Â  Â  display: none !important;
Â  }

Â  /* GjÃ¸r galleriene mer brukervennlige for berÃ¸ring */
Â  .image-gallery,
Â  .coming-movies-gallery,
Â  .top10-gallery,
Â  #halloween-gallery {
Â  Â  overflow-x: auto !important;
Â  Â  scroll-snap-type: x mandatory;
Â  Â  gap: 12px;
Â  Â  padding: 10px 10px;
Â  }

Â  .image-gallery a,
Â  .coming-movie-item,
Â  .top10-item {
Â  Â  scroll-snap-align: start;
Â  }

Â  /* Reduser marginer for bedre plass pÃ¥ smÃ¥ skjermer */
Â  .gallery-section {
Â  Â  margin-left: 10px;
Â  Â  margin-right: 10px;
Â  }

Â  .gallery-section h2 {
Â  Â  margin-left: 12px;
Â  }
}
Â  .nav-links a i {
Â  margin-right: 6px;
Â  font-size: 16px;
}


/* --- UTVIDER HERO-BANNER BAK GALLERIENE --- */
.hero-banner {
Â  height: 120vh; /* Ã˜ker hÃ¸yden sÃ¥ bildet/videoen strekker seg bak galleriet */
Â  margin-bottom: -40vh; /* Trekker galleriene visuelt opp slik at de "dekker" banneret */
Â  z-index: 0; /* Lar galleriene vises over */
}

.gallery-section {
Â  position: relative;
Â  z-index: 2; /* SÃ¸rger for at galleriene ligger over banneret */
}

Â  /* === Endelig korrigering for mobil hero-banner === */
@media (max-width: 768px) {

Â  .hero-banner {
Â  Â  height: 35vh !important;Â  Â  Â /* gjÃ¸r banneret mindre */
Â  Â  min-height: 180px !important;
Â  Â  max-height: 260px !important;
Â  Â  margin-bottom: 20px !important;Â  /* stopper at gallerier trekkes opp i banneret */
Â  }

Â  .banner-content {
Â  Â  top: auto !important;
Â  Â  bottom: 20px !important;Â  Â /* flytter innhold lenger ned */
Â  Â  left: 20px !important;
Â  Â  transform: none !important;
Â  }

Â  .film-logo {
Â  Â  width: 140px !important;Â  Â /* mye mindre film-logo */
Â  Â  max-height: 80px !important;
Â  }
}
Â  @media (max-width: 768px) {

Â  /* gjÃ¸r navigasjonen flytende over bildet */
Â  .top-nav {
Â  Â  position: absolute !important;
Â  Â  top: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  background: none !important;
Â  Â  box-shadow: none !important;
Â  }

Â  /* sÃ¸rger for at bildet starter i topp */
Â  .hero-banner {
Â  Â  margin-top: 0 !important;
Â  Â  padding-top: 0 !important;
Â  }

}

/* === KOMMENDE FILMER â€“ MOBILFIX === */
@media (max-width: 768px) {

Â  .coming-movies-wrapper {
Â  Â  overflow-x: auto !important;
Â  Â  padding: 0 10px !important;
Â  }

Â  .coming-movies-list {
Â  Â  gap: 12px !important;
Â  Â  height: 260px !important;
Â  }

Â  .coming-movie-item {
Â  Â  flex: 0 0 180px !important;
Â  Â  height: 240px !important;
Â  Â  transform: none !important;
Â  Â  transition: none !important;
Â  }

Â  /* Fjern hover-zoom */
Â  .coming-movie-item:hover {
Â  Â  flex: 0 0 180px !important;
Â  Â  transform: none !important;
Â  }

Â  /* Skjul video helt */
Â  .coming-movie-item video {
Â  Â  display: none !important;
Â  }

Â  /* Vis alltid bilde */
Â  .coming-movie-item img.banner {
Â  Â  opacity: 1 !important;
Â  Â  display: block !important;
Â  }

Â  /* Fiks logo pÃ¥ mobil */
Â  .coming-movie-item .logo {
Â  Â  bottom: 12px !important;
Â  Â  left: 50% !important;
Â  Â  transform: translateX(-50%) !important;
Â  Â  max-height: 48px !important;
Â  Â  width: auto !important;
Â  }

Â  /* Skjul synopsis / tekstinfo pÃ¥ mobil */
Â  .coming-movie-item .coming-movie-info {
Â  Â  display: none !important;
Â  Â  opacity: 0 !important;
Â  }
}

Â  @media (max-width: 768px) {

Â  /* gjÃ¸r navigasjonen flytende over bildet */
Â  .top-nav {
Â  Â  position: absolute !important;
Â  Â  top: 0;
Â  Â  left: 0;
Â  Â  width: 100%;
Â  Â  background: none !important;
Â  Â  box-shadow: none !important;
Â  }

Â  /* sÃ¸rger for at bildet starter i topp */
Â  .hero-banner {
Â  Â  margin-top: 0 !important;
Â  Â  padding-top: 0 !important;
Â  }
/* ===== ENDGYLDIG FIX FOR SCROLL-PILER ===== */

.scroll-button.hidden {
Â  display: none !important;
Â  opacity: 0 !important;
Â  pointer-events: none !important;
}

.gallery-wrapper:hover .scroll-button {
Â  opacity: 1;
Â  pointer-events: auto;
}

.gallery-wrapper:hover .scroll-button.hidden {
Â  opacity: 0;
Â  pointer-events: none;
}

</style>
</head>
<body>

<header class="top-nav">
  <div class="nav-left">
    <img class="watch-logo" src="https://static.wixstatic.com/media/fd2fb2_a4b2ace62dff4605a0387f46aad8a404~mv2.png" alt="Watch Logo" />
    <nav class="nav-links">
      <a href="Hovedside.html" class="active"><i class="fas fa-house-user"></i> Start</a>
      <a href="Serier.html"><i class="fas fa-th-large"></i> Serier</a>
      <a href="Film.html"><i class="fas fa-film"></i> Filmer</a>
      <a href="Nyheter.html"><i class="fas fa-fire-flame-curved"></i> Nytt og populÃ¦rt</a>
      <a href="Min-Liste.html"><i class="fas fa-plus-square"></i> Min liste</a>
    </nav>
  </div>

  <div class="nav-right">
    <a href="SÃ¸k.html" class="nav-search"><i class="fas fa-search"></i></a>
    <div class="profilmeny" onclick="gÃ¥TilKonto()">
      <img id="menyProfilbilde" src="https://via.placeholder.com/100" alt="Min profil" />
    </div>
  </div>
</header>

<main>
  <section class="hero-banner">
    <img class="banner-image" id="banner-bilde" src="" alt="Film Banner" />
    <video id="banner-video" class="banner-video" playsinline preload="none"></video>

    <div class="banner-content">
      <img class="film-logo" id="banner-logo" src="" alt="Film Logo" />
      <p id="banner-beskrivelse"></p>
      <div id="banner-metadata" class="banner-meta"></div>
      <div class="banner-buttons">
        <button class="watch-button" id="banner-se-na">Se nÃ¥</button>
        <button class="details-button" id="banner-detaljer">Detaljer</button>
      </div>
    </div>
  </section>

  <section class="gallery-section">
    <h2>Nye filmer pÃ¥ Watch</h2>
    <div class="gallery-wrapper">
      <div class="fade-left"></div>
      <button class="scroll-button left" onclick="scrollGallery(this, -1)">â®</button>
      <div class="image-gallery" id="nye-filmer-galleri"></div>
      <button class="scroll-button right" onclick="scrollGallery(this, 1)">â¯</button>
      <div class="fade-right"></div>
    </div>
  </section>

  <section class="gallery-section" id="fortsett-section" style="display:none;">
    <h2>Fortsett Ã¥ se</h2>
    <div class="gallery-wrapper">
      <div class="fade-left"></div>
      <button class="scroll-button left" onclick="scrollGallery(this, -1)">â®</button>
      <div class="image-gallery" id="fortsett-galleri"></div>
      <button class="scroll-button right" onclick="scrollGallery(this, 1)">â¯</button>
      <div class="fade-right"></div>
    </div>
  </section>

  <section class="gallery-section">
    <h2>Sjangere</h2>
    <div class="gallery-wrapper">
      <div class="fade-left"></div>
      <button class="scroll-button left" onclick="scrollGallery(this, -1)">â®</button>
      <div class="image-gallery genre-gallery">
        <a href="sjanger.html?navn=julefilmer">Julefilmer <i class="fas fa-tree"></i></a>
        <a href="sjanger.html?navn=barn">Barn / Familie <i class="fas fa-rocket"></i></a>
        <a href="sjanger.html?navn=komedie">Komedie <i class="fas fa-laugh"></i></a>
        <a href="sjanger.html?navn=skrekk">Skrekk <i class="fas fa-ghost"></i></a>
        <a href="sjanger.html?navn=drama">Drama <i class="fas fa-theater-masks"></i></a>
        <a href="sjanger.html?navn=romantikk">Romantikk <i class="fas fa-heart"></i></a>
        <a href="sjanger.html?navn=action">Action <i class="fas fa-bolt"></i></a>
      </div>
      <button class="scroll-button right" onclick="scrollGallery(this, 1)">â¯</button>
      <div class="fade-right"></div>
    </div>
  </section>

  <section class="gallery-section">
    <h2>Topp 10 filmer nÃ¥</h2>
    <div class="gallery-wrapper">
      <div class="fade-left"></div>
      <button class="scroll-button left" onclick="scrollGallery(this, -1)">â®</button>
      <div class="top10-gallery" id="topp10-filmer-galleri"></div>
      <button class="scroll-button right" onclick="scrollGallery(this, 1)">â¯</button>
      <div class="fade-right"></div>
    </div>
  </section> 

  <section class="gallery-section">
    <h2>Kommende filmer</h2>
    <div class="gallery-wrapper">
      <div class="fade-left"></div>
      <button class="scroll-button left" onclick="scrollGallery(this, -1)">â®</button>
      <div class="coming-movies-gallery" id="kommer-snart-galleri"></div>
      <button class="scroll-button right" onclick="scrollGallery(this, 1)">â¯</button>
      <div class="fade-right"></div>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-links">
      <a href="kontakt.html">Kontakt oss</a>
      <a href="personvern.html">Personvern</a>
      <a href="vilkar.html">VilkÃ¥r for bruk</a>
      <a href="hjelp.html">Hjelp</a>
    </div>
    <div class="footer-copy">Â© 2025 Watch Nordic Group</div>
  </footer>
</main>

<script src="Filmdata.js"></script> 
<script src="Seriedata.js"></script> 
<script>

// ==================== AUTENTISERING ==================== //
const epost = localStorage.getItem("epost");
const passord = localStorage.getItem("passord");

if (!epost || !passord) {
  window.location.href = "Starts side.html";
}

window.addEventListener("storage", () => {
  if (!localStorage.getItem("epost") || !localStorage.getItem("passord")) {
    window.location.href = "Starts side.html";
  }
});

// ==================== NAVIGASJON ==================== //
function gÃ¥TilKonto() {
  window.location.href = "konto.html";
}

// ==================== PROFILBILDE ==================== //
const lagretBilde = localStorage.getItem("profilbilde");
if (lagretBilde) {
  const menyProfil = document.getElementById("menyProfilbilde");
  if (menyProfil) menyProfil.src = lagretBilde;

  const headerProfil = document.getElementById("headerProfilbilde");
  if (headerProfil) headerProfil.src = lagretBilde;
}

// ==================== HERO-BANNER ==================== //

function hentTimeFilm() {
  // Henter en film basert pÃ¥ time pÃ¥ dagen
  const filmKeys = Object.keys(filmer).filter(k => filmer[k].banner);
  if (filmKeys.length === 0) return null;

  const timeIndex = new Date().getHours() % filmKeys.length;
  return filmer[filmKeys[timeIndex]];
}

function oppdaterBanner() {
  const film = hentTimeFilm();
  if (!film) return;

  const bilde = document.getElementById("banner-bilde");
  const video = document.getElementById("banner-video");
  const logo = document.getElementById("banner-logo");
  const beskrivelse = document.getElementById("banner-beskrivelse");
  const metadata = document.getElementById("banner-metadata");
  const seNa = document.getElementById("banner-se-na");
  const detaljer = document.getElementById("banner-detaljer");

  // Sett bannerbilde
  bilde.src = film.banner || "";
  bilde.style.display = "block";

  // Sett video
  if (film.trailer) {
    video.src = film.trailer;
    video.load();
    video.muted = true;
  } else {
    video.removeAttribute("src");
  }
  video.style.display = "none";

  // Sett logo og beskrivelse
  logo.src = film.logo || "";
  logo.style.display = film.logo ? "block" : "none";
  beskrivelse.textContent = film.beskrivelse || "";

  // Sett metadata
  metadata.textContent = film.metadata ? film.metadata.join(" â€¢ ") : "";

  // Se nÃ¥-knapp
seNa.onclick = () => {
  window.location.href = `film-mal.html?id=${encodeURIComponent(film.tittel)}`;
};



 // Detaljer-knapp med smÃ¥ bokstaver
const tittelSmÃ¥ = film.tittel.toLowerCase().replace(/\s+/g, ''); // erstatter mellomrom med bindestrek
detaljer.onclick = () => {
  const url = `film.html?navn=${tittelSmÃ¥}`;
  window.location.href = url;
};

  // Spill video etter 5 sekunder hvis tilgjengelig
  setTimeout(() => {
    if (film.trailer) {
      bilde.style.display = "none";
      video.style.display = "block";
      video.currentTime = 0;
      video.play();
      video.onended = () => {
        video.style.display = "none";
        bilde.style.display = "block";
      };
    }
  }, 5000);
}

// KjÃ¸r oppdaterBanner nÃ¥r siden lastes
oppdaterBanner();

// ==================== HJELPEFUNKSJON: JUSTER VIDEO ==================== //
function adjustBannerVideo(videoElement, container) {
  videoElement.addEventListener('loadedmetadata', () => {
    const videoRatio = videoElement.videoWidth / videoElement.videoHeight;
    const containerRatio = container.offsetWidth / container.offsetHeight;

    if (videoRatio < containerRatio) {
      videoElement.style.width = '100%';
      videoElement.style.height = '100%';
      videoElement.style.objectFit = 'cover';
    } else {
      videoElement.style.width = '100%';
      videoElement.style.height = '100%';
      videoElement.style.objectFit = 'cover';
    }
  });
}

const bannerVideo = document.getElementById("banner-video");
const heroBanner = document.querySelector(".hero-banner");
adjustBannerVideo(bannerVideo, heroBanner);



// ==================== UNIVERSAL SCROLL FUNKSJON ==================== //
function scrollGallery(button, direction) {
  const wrapper = button.closest(".gallery-wrapper");
  if (!wrapper) return;

  const gallery =
    wrapper.querySelector(".image-gallery") ||
    wrapper.querySelector(".coming-movies-gallery") ||
    wrapper.querySelector(".top10-gallery");

  if (!gallery) return;

  const scrollAmount = gallery.clientWidth * 0.8;

  gallery.scrollBy({
    left: direction * scrollAmount,
    behavior: "smooth"
  });
}


// ==================== DYNAMISK GALLERI-LASTING ==================== //
function createMovieElement(filmKey, film) {
  const link = document.createElement("a");
  link.href = `film.html?navn=${filmKey}`;
  const img = document.createElement("img");
  img.src = film.poster;
  img.alt = film.tittel;
  link.appendChild(img);
  return link;
}

function createUpcomingMovieElement(filmKey, film) {
  const link = document.createElement("div");
  link.classList.add("coming-movie-item");

  const banner = document.createElement("img");
  banner.src = film.bakgrunn || film.poster || "";
  banner.alt = film.tittel;
  banner.classList.add("banner");
  link.appendChild(banner);

  const video = document.createElement("video");
  if (film.trailer) video.src = film.trailer;
  video.loop = true;
  video.playsInline = true;
  link.appendChild(video);

  if (film.logo) {
    const logo = document.createElement("img");
    logo.src = film.logo;
    logo.alt = film.tittel + " Logo";
    logo.classList.add("logo");
    link.appendChild(logo);
  }

  const info = document.createElement("div");
  info.classList.add("coming-movie-info");

  const release = document.createElement("p");
  const icon = document.createElement("i");
  icon.classList.add("fas", "fa-calendar-alt");
  release.appendChild(icon);

  if (film.publishDate) {
    const releaseDate = new Date(film.publishDate);
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    releaseDate.setHours(0, 0, 0, 0);
    const tomorrow = new Date(today);
    tomorrow.setDate(today.getDate() + 1);

    const dager = ["SÃ¸ndag", "Mandag", "Tirsdag", "Onsdag", "Torsdag", "Fredag", "LÃ¸rdag"];
    const mÃ¥neder = ["Januar", "Februar", "Mars", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Desember"];

    let datoTekst = "";
    if (releaseDate.getTime() === tomorrow.getTime()) {
      datoTekst = "Kommer i morgen";
    } else {
      const diff = (releaseDate - today) / (1000 * 60 * 60 * 24);
      if (diff > 1 && diff < 7) {
        datoTekst = "Kommer pÃ¥ " + dager[releaseDate.getDay()];
      } else {
        const dag = releaseDate.getDate();
        const mÃ¥ned = mÃ¥neder[releaseDate.getMonth()];
        const Ã¥r = releaseDate.getFullYear();
        const currentYear = today.getFullYear();
        datoTekst = Ã¥r === currentYear ? `Kommer: ${dag}. ${mÃ¥ned}` : `Kommer: ${dag}. ${mÃ¥ned} ${Ã¥r}`;
      }
    }
    release.appendChild(document.createTextNode(" " + datoTekst));
  } else {
    release.appendChild(document.createTextNode(" Kommer: Ukjent"));
  }

  info.appendChild(release);
  link.appendChild(info);

  let hoverTimeout;
  link.addEventListener("mouseenter", () => {
    link.classList.add("expanded");
    hoverTimeout = setTimeout(() => {
      if (film.trailer) {
        link.classList.add("show-video");
        video.play();
      }
    }, 3000);
  });

  link.addEventListener("mouseleave", () => {
    clearTimeout(hoverTimeout);
    link.classList.remove("expanded", "show-video");
    video.pause();
    video.currentTime = 0;
  });

  link.addEventListener("click", () => {
    window.location.href = `film.html?navn=${filmKey}`;
  });

  return link;
}

function renderGallery(galleryId, filterFunction, sortByPublishDate = false, limit = null) {
  const gallery = document.getElementById(galleryId);
  if (!gallery) return;
  gallery.innerHTML = "";

  const currentDate = new Date();
  let filmKeys = Object.keys(filmer);

  filmKeys = filmKeys.filter(key => {
    const film = filmer[key];
    if (!film.publishDate) return true;
    return new Date(film.publishDate) <= currentDate;
  });

  if (filterFunction) filmKeys = filmKeys.filter(filterFunction);
  if (sortByPublishDate) {
    filmKeys.sort((a, b) => new Date(filmer[b].publishDate || 0) - new Date(filmer[a].publishDate || 0));
  }
  if (limit) filmKeys = filmKeys.slice(0, limit);

  filmKeys.forEach(key => {
    const film = filmer[key];
    gallery.appendChild(createMovieElement(key, film));
  });
}

function renderUpcoming(galleryId) {
  const gallery = document.getElementById(galleryId);
  if (!gallery) return;
  gallery.innerHTML = "";
  const currentDate = new Date();

  const upcomingFilms = Object.keys(filmer).filter(key => {
    const film = filmer[key];
    if (!film.publishDate) return false;
    return new Date(film.publishDate) > currentDate;
  }).sort((a, b) => new Date(filmer[a].publishDate) - new Date(filmer[b].publishDate));

  upcomingFilms.forEach(key => gallery.appendChild(createUpcomingMovieElement(key, filmer[key])));
}

// ==================== TOPP 10 FILMER ==================== //
function renderTop10(galleryId) {
  const gallery = document.getElementById(galleryId);
  if (!gallery) return;
  gallery.innerHTML = "";

  let filmKeys = Object.keys(filmer);
  const today = new Date();
  filmKeys = filmKeys.filter(key => {
    const film = filmer[key];
    if (!film.publishDate) return true;
    return new Date(film.publishDate) <= today;
  });

  const seed = today.getFullYear() * 1000 + today.getMonth() * 50 + today.getDate();
  function seededRandom(seed) {
    const x = Math.sin(seed++) * 10000;
    return x - Math.floor(x);
  }

  filmKeys.sort((a, b) => seededRandom(seed + a.length) - seededRandom(seed + b.length));
  filmKeys.slice(0, 10).forEach((key, index) => {
    const film = filmer[key];
    const wrapper = document.createElement("a");
    wrapper.href = `film.html?navn=${key}`;
    wrapper.classList.add("top10-item");

    const img = document.createElement("img");
    img.src = film.posterVertikal || film.poster;
    img.alt = film.tittel;

    const number = document.createElement("div");
    number.classList.add("top10-number");
    number.textContent = index + 1;

    wrapper.appendChild(img);
    wrapper.appendChild(number);
    gallery.appendChild(wrapper);
  });
}

// ==================== SERIER ==================== //
function renderSeries(galleryId) {
  const gallery = document.getElementById(galleryId);
  if (!gallery || typeof serier === "undefined") return;

  gallery.innerHTML = "";

  Object.keys(serier).forEach((key) => {
    const serie = serier[key];

    const link = document.createElement("a");
    // ğŸ”¥ RIKTIG SIDE: film-mal / infosiden
    link.href = `film.html?navn=${key}`;

    const img = document.createElement("img");
    img.src = serie.poster;
    img.alt = serie.tittel;

    link.appendChild(img);
    gallery.appendChild(link);
  });
}


// ==================== FORTSETT Ã… SE ==================== //
function renderContinueWatching() {
  const section = document.getElementById("fortsett-section");
  const gallery = document.getElementById("fortsett-galleri");
  if (!section || !gallery) return;
  gallery.innerHTML = "";

  const fortsettFilmer = Object.keys(filmer).filter((key) => {
    const progress = localStorage.getItem("progress_" + key);
    return progress && progress > 0 && progress < 100;
  });

  if (fortsettFilmer.length === 0) {
    section.style.display = "none";
    return;
  }
  section.style.display = "block";

  fortsettFilmer.forEach((key) => {
    const film = filmer[key];
    const progress = localStorage.getItem("progress_" + key);
    const link = document.createElement("a");
    link.href = `film-mal.html?id=${key}`;
    link.classList.add("image-with-progress");

    const img = document.createElement("img");
    img.src = film.poster;
    img.alt = film.tittel;

    const progressBar = document.createElement("div");
    progressBar.classList.add("progress-bar");
    progressBar.setAttribute("data-progress", progress);
    progressBar.style.setProperty("--progress", progress + "%");

    link.appendChild(img);
    link.appendChild(progressBar);
    gallery.appendChild(link);
  });
}


// ==================== INIT ==================== //
document.addEventListener("DOMContentLoaded", () => {

  renderGallery("nye-filmer-galleri", null, true, 10);
  renderTop10("topp10-filmer-galleri");
  renderGallery("barn-galleri", (key) => {
    const film = filmer[key];
    return film.metadata.some(
      (meta) => meta.toLowerCase().includes("barn") || meta.toLowerCase().includes("familie")
    );
  });
  renderUpcoming("kommer-snart-galleri");
  renderSeries("serier-galleri");
  oppdaterBanner();
  renderHalloweenBanner();
  renderContinueWatching();

  document.querySelectorAll(".gallery-wrapper").forEach((wrapper) => {
    const gallery = wrapper.querySelector(".image-gallery, .coming-movies-gallery, .top10-gallery");
    const leftBtn = wrapper.querySelector(".scroll-button.left");
    const rightBtn = wrapper.querySelector(".scroll-button.right");
    const fadeLeft = wrapper.querySelector(".fade-left");
    const fadeRight = wrapper.querySelector(".fade-right");

  function updateScrollState() {
  if (!gallery) return;

  const scrollLeft = gallery.scrollLeft;
  const maxScroll = gallery.scrollWidth - gallery.clientWidth;

  // ğŸš« Hvis galleriet ikke kan scrolle i det hele tatt
  if (gallery.scrollWidth <= gallery.clientWidth + 1) {
    leftBtn?.classList.add("hidden");
    rightBtn?.classList.add("hidden");
    fadeLeft?.classList.add("fade-hidden");
    fadeRight?.classList.add("fade-hidden");
    return;
  }

  // â¬…ï¸ Start
  leftBtn?.classList.toggle("hidden", scrollLeft <= 0);
  fadeLeft?.classList.toggle("fade-hidden", scrollLeft <= 0);

  // â¡ï¸ Slutt
  rightBtn?.classList.toggle("hidden", scrollLeft >= maxScroll - 1);
  fadeRight?.classList.toggle("fade-hidden", scrollLeft >= maxScroll - 1);
}


    if (leftBtn) leftBtn.addEventListener("click", () => gallery.scrollBy({ left: -300, behavior: "smooth" }));
    if (rightBtn) rightBtn.addEventListener("click", () => gallery.scrollBy({ left: 300, behavior: "smooth" }));
    if (gallery) gallery.addEventListener("scroll", updateScrollState);
    updateScrollState();
  });

  document.querySelectorAll(".progress-bar").forEach((bar) => {
    const progress = bar.getAttribute("data-progress");
    if (progress) bar.style.setProperty("--progress", progress + "%");
  });
});

// === Endre menybakgrunn ved scroll ===
window.addEventListener("scroll", () => {
  const nav = document.querySelector(".top-nav");
  if (window.scrollY > 50) {
    nav.classList.add("scrolled");
  } else {
    nav.classList.remove("scrolled");
  }
});

  // Hent dagens dato
const now = new Date();

// Filtrer bort utgÃ¥tte filmer
const activeFilms = films.filter(film => {
    const expire = new Date(film.expireDate);
    return expire > now; // bare filmer som IKKE har gÃ¥tt ut
});

// Finn galleriet pÃ¥ siden
const gallery = document.getElementById("gallery");

// Lag film-elementer fra activeFilms
activeFilms.forEach(film => {
    const item = document.createElement("a");
    item.href = film.link;
    item.className = "film-item";

    item.innerHTML = `
        <img src="${film.image}" alt="${film.title}">
    `;

    gallery.appendChild(item);
});


  
</script>















































